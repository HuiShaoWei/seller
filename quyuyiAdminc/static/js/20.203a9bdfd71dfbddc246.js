webpackJsonp([20],{Hnpw:function(e,t){},ltTW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={inject:["reload"],data:function(){return{qiniuData:{key:"",token:"0tJG2oh5JnpsneBzCn3CnP4N1bH3HZgn6HJoHQAt:yuA83mJmMRtMHE53vBPuTr8kZcw=:eyJzY29wZSI6InF1eXV5aWltYWdlIiwiZGVhZGxpbmUiOjMxNzM1MDA1ODV9"},upload_qiniu_url:"http://upload-z2.qiniup.com",upload_qiniu_addr:"http://image.quyuyi.com",imageUrl:"",currentdate:""}},created:function(){var e=new Date,t=e.getMonth()+1,a=e.getDate();t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a),this.currentdate=e.getFullYear()+"-"+t+"-"+a+"_"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();e.getFullYear()},methods:{beforeAvatarUpload:function(e){this.qiniuData.key=this.currentdate+"_"+e.name;var t="image/jpeg"===e.type,a="image/png"===e.type,i=e.size/1024/1024<2;return t||a?i?void 0:(this.$message.error("图片大小不能超过 2MB!"),!1):(this.$message.error("图片只能是 JPG/PNG 格式!"),!1)},handleAvatarSuccess:function(e,t){this.imageUrl=this.upload_qiniu_addr+e.key,console.log("res =>",e),console.log("file =>",this.upload_qiniu_addr+"/"+t.response.key)},handleError:function(e){this.$message({message:"上传失败",duration:2e3,type:"warning"})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:e.upload_qiniu_url,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleError,"before-upload":e.beforeAvatarUpload,data:e.qiniuData}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("div",{staticClass:"el-default"},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过2MB")])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("h2",[this._v("ElementUI的Upload上传图片到七牛云")])])}]};var n=a("VU/8")(i,s,!1,function(e){a("Hnpw")},null,null);t.default=n.exports}});
//# sourceMappingURL=20.203a9bdfd71dfbddc246.js.map