{"version":3,"sources":["webpack:///src/components/form/Upload.vue","webpack:///./src/components/form/Upload.vue?c1e9","webpack:///./src/components/form/Upload.vue"],"names":["Upload","name","components","elUpload","element_ui_common","props","url","type","String","value","multiple","Boolean","default","picWidth","Number","picHeight","data","showBtn","show","dialogImageUrl","baseUrl","config","api","avatarStyle","width","this","height","line-height","fileList","mounted","length","map","f","response","methods","handleSuccess","resp","file","push","$emit","handleRemove","handlePictureCardPreview","removeSingle","$refs","singleUpload","clearFiles","watch","deep","handler","val","oldVal","form_Upload","render","_vm","_h","$createElement","_c","_self","ref","attrs","action","list-type","on-success","on-preview","on-remove","file-list","staticClass","style","show-file-list","on","mouseover","$event","mouseout","directives","rawName","expression","click","stopPropagation","_v","src","max-width","model","callback","$$v","alt","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/29.666899c192abac963f2d.js","sourcesContent":["<template>\n  <div>\n    <el-upload v-if=\"multiple\"\n               :action=\"baseUrl + url\"\n               list-type=\"picture-card\"\n               :on-success=\"handleSuccess\"\n               :on-preview=\"handlePictureCardPreview\"\n               :on-remove=\"handleRemove\"\n               ref=\"multiUpload\"\n               :file-list=\"fileList\"\n    >\n      <i class=\"el-icon-plus\"></i>\n    </el-upload>\n    <el-upload ref=\"singleUpload\" v-else\n               :style=\"avatarStyle\"\n               class=\"logo-uploader\"\n               :action=\"baseUrl + url\"\n               :show-file-list=\"false\"\n               :on-success=\"handleSuccess\">\n      <div @mouseover=\"showBtn=true\" @mouseout=\"showBtn=false\">\n        <i @click.stop=\"removeSingle\" v-show=\"dialogImageUrl && showBtn\" class=\"el-icon-close remove-btn\"></i>\n        <img v-if=\"dialogImageUrl\" :src=\"dialogImageUrl\" :style=\"avatarStyle\">\n        <i v-else class=\"el-icon-plus logo-uploader-icon\" :style=\"avatarStyle\"></i>\n      </div>\n    </el-upload>\n    <v-dialog v-model=\"show\" max-width=\"500\">\n      <img width=\"500px\" :src=\"dialogImageUrl\" alt=\"\">\n    </v-dialog>\n  </div>\n</template>\n\n<script>\n  import {Upload} from 'element-ui';\n\n  export default {\n    name: \"vUpload\",\n    components: {\n      elUpload: Upload\n    },\n    props: {\n      url: {\n        type: String\n      },\n      value: {},\n      multiple: {\n        type: Boolean,\n        default: true\n      },\n      picWidth: {\n        type: Number,\n        default: 150\n      },\n      picHeight: {\n        type: Number,\n        default: 150\n      }\n    },\n    data() {\n      return {\n        showBtn: false,\n        show: false,\n        dialogImageUrl: \"\",\n        baseUrl: config.api,\n        avatarStyle: {\n          width: this.picWidth + 'px',\n          height: this.picHeight + 'px',\n          'line-height': this.picHeight + 'px'\n        },\n        fileList:[]\n      }\n    },\n    mounted(){\n      if (!this.value || this.value.length <= 0) {\n        return;\n      }\n      if (this.multiple) {\n        this.fileList = this.value.map(f => {\n          return {response: f, url:f}\n        });\n      } else {\n        this.dialogImageUrl = this.value;\n      }\n    },\n    methods: {\n      handleSuccess(resp, file) {\n        if (!this.multiple) {\n          this.dialogImageUrl = file.response;\n          this.$emit(\"input\", file.response)\n        } else {\n          this.fileList.push(file)\n          this.$emit(\"input\", this.fileList.map(f => f.response))\n        }\n      },\n      handleRemove(file, fileList) {\n        this.fileList = fileList;\n        this.$emit(\"input\", fileList.map(f => f.response))\n      },\n      handlePictureCardPreview(file) {\n        this.dialogImageUrl = file.response;\n        this.show = true;\n      },\n      removeSingle() {\n        this.dialogImageUrl = \"\";\n        this.$refs.singleUpload.clearFiles();\n      }\n    },\n    watch: {\n      value:{\n        deep:true,\n        handler(val,oldVal){\n          if (oldVal) {\n            return;\n          }\n          if (this.multiple) {\n            this.fileList = val.map(f => {\n              return {response: f,url:f}\n            });\n          } else {\n            this.dialogImageUrl = val;\n          }\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .logo-uploader {\n    border: 1px dashed #d84315;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n    float: left;\n  }\n\n  .logo-uploader:hover {\n    border-color: #409EFF;\n  }\n\n  .logo-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    text-align: center;\n  }\n\n  .remove-btn {\n    position: absolute;\n    right: 0;\n    font-size: 16px;\n  }\n\n  .remove-btn:hover {\n    color: #c22;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/form/Upload.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.multiple)?_c('el-upload',{ref:\"multiUpload\",attrs:{\"action\":_vm.baseUrl + _vm.url,\"list-type\":\"picture-card\",\"on-success\":_vm.handleSuccess,\"on-preview\":_vm.handlePictureCardPreview,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.fileList}},[_c('i',{staticClass:\"el-icon-plus\"})]):_c('el-upload',{ref:\"singleUpload\",staticClass:\"logo-uploader\",style:(_vm.avatarStyle),attrs:{\"action\":_vm.baseUrl + _vm.url,\"show-file-list\":false,\"on-success\":_vm.handleSuccess}},[_c('div',{on:{\"mouseover\":function($event){_vm.showBtn=true},\"mouseout\":function($event){_vm.showBtn=false}}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dialogImageUrl && _vm.showBtn),expression:\"dialogImageUrl && showBtn\"}],staticClass:\"el-icon-close remove-btn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.removeSingle($event)}}}),_vm._v(\" \"),(_vm.dialogImageUrl)?_c('img',{style:(_vm.avatarStyle),attrs:{\"src\":_vm.dialogImageUrl}}):_c('i',{staticClass:\"el-icon-plus logo-uploader-icon\",style:(_vm.avatarStyle)})])]),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('img',{attrs:{\"width\":\"500px\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-59d56d4a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/form/Upload.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-59d56d4a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Upload.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Upload.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Upload.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-59d56d4a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Upload.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-59d56d4a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form/Upload.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}