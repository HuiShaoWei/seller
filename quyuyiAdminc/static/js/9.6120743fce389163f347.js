webpackJsonp([9],{"3eUS":function(t,e){},Q7wT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Xxa5"),s=a.n(r),n=a("WBHA"),o=a.n(n),l=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var a=[],r=!0,s=!1,n=void 0;try{for(var o,l=t[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!e||a.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{!r&&l.return&&l.return()}finally{if(s)throw n}}return a}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var i={props:["propData"],data:function(){return{tableData:[],rowsPerPage:15,page:1,total:0,pageSizes:[10,15,20,25],dialogVisible:!1,status:1,moreInfo:{},arr:[],realDate:0,type:null}},methods:{tableInit:function(){var t,e=this;return(t=s.a.mark(function t(){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return 1==e.propData.card?e.type=1:e.type=0,a={storeId:localStorage.getItem("id"),page:e.page,rows:e.rowsPerPage,status:e.type},t.next=4,e.$Http.financeTable(a);case 4:r=t.sent,e.tableData=r.data.items,e.total=r.data.total;case 7:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function r(s,n){try{var o=e[s](n),l=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(l).then(function(t){r("next",t)},function(t){r("throw",t)});t(l)}("next")})})()},getOrderId:function(t){var e=[];return t.orderDetailsList.forEach(function(t){e.push(t.orderId)}),e.join().replace(/,/g,"_")},getPrice:function(t){for(var e=0,a=0;a<t.orderDetailsList.length;a++)e+=parseFloat(t.orderDetailsList[a].prices);return e},transform:function(t){return Object.entries(t).forEach(function(e){var a=l(e,2),r=a[0],s=a[1],n=s<10?"0"+s:s;t[r]=""+n}),t},more:function(t){this.arr=[],this.dialogVisible=!0,this.moreInfo=t,this.arr.push(t),Number(t.closeTime)>0?this.realDate=Number(t.closeTime):this.realDate=0},handleSizeChange:function(t){this.tableInit()},handleCurrentChange:function(t){this.tableInit()},nextPage:function(){this.page+=1,this.tableInit()},prevPage:function(){this.page-=1,this.tableInit()},handleClose:function(t){t()}},created:function(){0==localStorage.getItem("id")?this.$message({type:"error",message:"请先认证店铺信息",offset:80}):this.tableInit()}},c={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"accountTab"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[r("el-table-column",{attrs:{prop:"itemTitle",label:"商品名称","show-overflow-tooltip":""}}),t._v(" "),r("el-table-column",{attrs:{label:"支付时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?r("span",{staticStyle:{color:"rgb(245, 108, 108)"}},[t._v("用户暂未支付")]):r("span",[t._v(t._s(e.row.paymentTime))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"subOrderId",label:"订单号","show-overflow-tooltip":""}}),t._v(" "),r("el-table-column",{attrs:{prop:"buyerNick",label:"客户昵称"},scopedSlots:t._u([{key:"default",fn:function(e){return[null==e.row.buyerNick?r("span",{staticStyle:{color:"rgb(245, 108, 108)"}},[t._v("暂无昵称")]):r("span",[t._v(t._s(e.row.buyerNick))])]}}])}),t._v(" "),0!=t.propData.card?r("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?r("p",{staticStyle:{color:"#F66060",padding:"0",margin:"0"}},[t._v("待付款")]):2==e.row.status?r("p",{staticStyle:{color:"#F66060",padding:"0",margin:"0"}},[t._v("待发货")]):3==e.row.status?r("p",{staticStyle:{color:"#F66060",padding:"0",margin:"0"}},[t._v("交接中")]):4==e.row.status?r("p",{staticStyle:{color:"#67C23A",padding:"0",margin:"0"}},[t._v("交易成功（用户确认收货）")]):5==e.row.status?r("p",{staticStyle:{color:"#F66060",padding:"0",margin:"0"}},[t._v("取消订单")]):6==e.row.status?r("p",{staticStyle:{color:"#F66060",padding:"0",margin:"0"}},[t._v("退款待处理")]):7==e.row.status?r("p",{staticStyle:{color:"#F66060",padding:"0",margin:"0"}},[t._v("已拒绝退款")]):8==e.row.status?r("p",{staticStyle:{color:"#F66060",padding:"0",margin:"0"}},[t._v("退款成功")]):9==e.row.status?r("p",{staticStyle:{color:"#F66060",padding:"0",margin:"0"}},[t._v("退款关闭")]):r("p",{staticStyle:{color:"#F66060",padding:"0",margin:"0"}},[t._v("订单未付款，已过期")])]}}],null,!1,3106932629)}):t._e(),t._v(" "),r("el-table-column",{attrs:{prop:"amount",label:"金额(元)"}}),t._v(" "),0==t.propData.card?r("el-table-column",{attrs:{label:"订单抽成(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",{staticStyle:{padding:"0",margin:"0"}},[t._v(t._s(.03*e.row.amount))])]}}],null,!1,1984369531)}):t._e(),t._v(" "),0==t.propData.card?r("el-table-column",{attrs:{label:"最终金额(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",{staticStyle:{padding:"0",margin:"0"}},[t._v(t._s(e.row.amount-.03*e.row.amount))])]}}],null,!1,3811064795)}):t._e(),t._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(a){return t.more(e.row)}}},[t._v("详情")])]}}])})],1),t._v(" "),r("div",{staticClass:"pages"},[r("el-pagination",{staticClass:"tablePagin",attrs:{background:"","page-sizes":t.pageSizes,layout:"total, sizes, prev, pager, next, jumper",total:t.total,"pager-count":5,"page-size":t.rowsPerPage,"current-page":t.page},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:pageSize":function(e){t.rowsPerPage=e},"update:page-size":function(e){t.rowsPerPage=e},"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"prev-click":t.prevPage,"next-click":t.nextPage}})],1),t._v(" "),r("el-dialog",{attrs:{title:"查看详情",visible:t.dialogVisible,width:"860px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("div",{staticClass:"orderMore"},[r("div",{staticClass:"orderSteps"},[r("el-steps",{attrs:{active:t.moreInfo.status,"finish-status":"success"}},[r("el-step",{attrs:{title:"买家下单",description:t.moreInfo.createTime}}),t._v(" "),r("el-step",{attrs:{title:"买家付款",description:""}}),t._v(" "),r("el-step",{attrs:{title:"交接中",description:""}}),t._v(" "),r("el-step",{attrs:{title:"买家确认验收",description:""}})],1),t._v(" "),r("p",{staticStyle:{"margin-top":"20px"}},[r("span",{staticClass:"status"},[t._v("当前订单状态:")]),t._v(" "),1==t.moreInfo.status?r("span",{staticStyle:{color:"#F66060"}},[t._v("待付款")]):2==t.moreInfo.status?r("span",{staticStyle:{color:"#F66060"}},[t._v("待发货")]):3==t.moreInfo.status?r("span",{staticStyle:{color:"#F66060"}},[t._v("交接中")]):4==t.moreInfo.status?r("span",{staticStyle:{color:"#67C23A"}},[t._v("用户确认收货")]):5==t.moreInfo.status?r("span",{staticStyle:{color:"#F66060"}},[t._v("交易关闭")]):6==t.moreInfo.status?r("span",{staticStyle:{color:"#F66060"}},[t._v("售后/退款")]):99==t.moreInfo.status?r("span",{staticStyle:{color:"#F66060"}},[t._v("订单未付款，已过期")]):t._e(),t._v(" "),1==t.moreInfo.status&&t.realDate>0?r("span",{staticClass:"orderInfo"},[t._v("(买家已下单，等待付款中，\n              "),r("countdown",{attrs:{time:t.realDate,transform:t.transform},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.totalHours)+" : "+t._s(e.minutes)+" : "+t._s(e.seconds))]}}],null,!1,1631072214)}),t._v("\n              关闭订单)")],1):t._e()])],1),t._v(" "),r("div",{staticClass:"buyerInfo"},[r("h3",[t._v("买家信息")]),t._v(" "),r("p",{staticClass:"commonStyle"},[null==t.moreInfo.buyerNick?r("span",[t._v("昵称:\n          "),r("b",{staticStyle:{color:"#F56C6C"}},[t._v("暂无昵称")])]):r("span",[t._v("昵称: "+t._s(t.moreInfo.buyerNick))]),t._v(" "),r("span",[t._v("收货地址:\n          "+t._s(t.moreInfo.state)+t._s(t.moreInfo.city)+t._s(t.moreInfo.district)+t._s(t.moreInfo.address)+"\n          ")])]),t._v(" "),r("p",{staticClass:"commonStyle"},[r("span",[t._v("联系人: "+t._s(t.moreInfo.name))]),t._v(" "),r("span",[t._v("联系电话: "+t._s(t.moreInfo.phone))])])]),t._v(" "),r("div",{staticClass:"buyerInfo"},[r("h3",[t._v("订单消息")]),t._v(" "),r("p",{staticClass:"commonStyle"},[t.moreInfo.orderDetails?r("span",[t._v("订单编号: "+t._s(t.moreInfo.orderDetails[0].orderId))]):t._e(),t._v(" "),r("span",[t._v("创建时间: "+t._s(t.moreInfo.createTime))]),t._v(" "),r("span",[t._v("付款方式:\n            "),0==t.moreInfo.paymentType?r("b",{staticStyle:{color:"#F56C6C"}},[t._v("银行")]):1==t.moreInfo.paymentType?r("b",{staticStyle:{color:"#F56C6C"}},[t._v("微信")]):r("b",{staticStyle:{color:"#F56C6C"}},[t._v("支付宝")])])]),t._v(" "),r("p",{staticClass:"commonStyle"},[1==t.moreInfo.status?r("span",[t._v("支付时间:\n          "),r("b",{staticStyle:{color:"rgb(245, 108, 108)"}},[t._v("用户暂未付款")])]):r("span",[t._v("支付时间: "+t._s(t.moreInfo.paymentTime))]),t._v(" "),r("span",[t._v("发货地址:")])])]),t._v(" "),r("div",{staticClass:"tables",staticStyle:{"margin-top":"20px"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.arr}},[r("el-table-column",{attrs:{label:"产品图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.images?r("p",{staticStyle:{padding:"0",margin:"0"}},[r("img",{attrs:{width:"60",height:"60",src:t.row.images,alt:""}})]):r("p",{staticStyle:{padding:"0",margin:"0"}},[r("img",{attrs:{width:"60",height:"60",src:a("TI6G"),alt:""}})])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"itemTitle",label:"产品名称"}}),t._v(" "),r("el-table-column",{attrs:{prop:"checkParams",label:"产品规格"}}),t._v(" "),r("el-table-column",{attrs:{prop:"prices",label:"价格"}}),t._v(" "),r("el-table-column",{attrs:{prop:"postFee",label:"运费"}}),t._v(" "),r("el-table-column",{attrs:{prop:"num",label:"数量"}}),t._v(" "),r("el-table-column",{attrs:{label:"产品总价"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.num*e.row.prices)+"\n            ")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"合计金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s((e.row.num*e.row.prices+parseFloat(e.row.postFee)).toFixed(2))+"\n            ")]}}])})],1)],1),t._v(" "),2==t.moreInfo.postType?r("div",{staticClass:"buyerInfo"},[r("h3",[t._v("物流消息 "),r("span",{staticStyle:{"font-size":"14px",color:"rgba(153,153,153,1)"}})]),t._v(" "),r("p",{staticClass:"commonStyle"},[r("span",[t._v("物流地址: "+t._s(t.moreInfo.receiverAddress))]),t._v(" "),r("span",[t._v("配送方式: 快递发货")])]),t._v(" "),r("p",{staticClass:"commonStyle"},[r("span",[t._v("物流公司: "+t._s(t.moreInfo.shoppingName))]),t._v(" "),r("span",[t._v("快递单号: "+t._s(t.moreInfo.shippingCode))])])]):t._e(),t._v(" "),r("div",{staticClass:"buyerInfo"},[r("h3",[t._v("备注")]),t._v(" "),r("p",{staticClass:"commonStyle"},[r("span",{staticStyle:{display:"block",width:"100%",flex:"1"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.arr}},[r("el-table-column",{attrs:{prop:"itemTitle",label:"产品名称"}}),t._v(" "),r("el-table-column",{attrs:{prop:"buyerMessage",label:"留言"}})],1)],1)])])])])],1)},staticRenderFns:[]};var u=a("VU/8")(i,c,!1,function(t){a("em7/")},"data-v-731e49f1",null).exports;var p={components:{countTo:o.a,accountTab:u},data:function(){return{startVal:0,endVal:0,separator:"",withdrawNum:"",decimals:2,propData:{card:"1"},countList:{accumulatedRevenue:0,amountSettled:0,availableBalance:0,sevenDayRevenue:0,yesterdayRevenue:0,todayRevenue:0}}},methods:{dataInit:function(){var t,e=this;return(t=s.a.mark(function t(){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={storeId:localStorage.getItem("id")},t.next=3,e.$Http.financeCount(a);case 3:r=t.sent,e.countList=r.data;case 5:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function r(s,n){try{var o=e[s](n),l=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(l).then(function(t){r("next",t)},function(t){r("throw",t)});t(l)}("next")})})()}},created:function(){if(0==localStorage.getItem("id"))return!1;this.dataInit()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account"},[a("el-card",[a("div",{staticClass:"account-top"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",[t._v("累计收入 (元) (截止今日0点)")]),t._v(" "),a("span",[a("countTo",{staticClass:"countNum",attrs:{separator:t.separator,decimals:t.decimals,startVal:t.startVal,endVal:null===t.countList.accumulatedRevenue?0:t.countList.accumulatedRevenue,duration:2e3}})],1)])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",[t._v("昨日收入 (元)")]),t._v(" "),a("span",[a("countTo",{staticClass:"countNum",attrs:{separator:t.separator,decimals:t.decimals,startVal:t.startVal,endVal:null===t.countList.yesterdayRevenue?0:t.countList.yesterdayRevenue,duration:2e3}})],1)])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",[t._v("七日收入 (元)")]),t._v(" "),a("span",[a("countTo",{staticClass:"countNum",attrs:{separator:t.separator,decimals:t.decimals,startVal:t.startVal,endVal:null===t.countList.sevenDayRevenue?0:t.countList.sevenDayRevenue,duration:2e3}})],1)])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",[t._v("待结算总额 (元) (截止今日0点)")]),t._v(" "),a("span",[a("countTo",{staticClass:"countNum",attrs:{separator:t.separator,decimals:t.decimals,startVal:t.startVal,endVal:null===t.countList.amountSettled?0:t.countList.amountSettled,duration:2e3}})],1)])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",[t._v("可用余额 (元)")]),t._v(" "),a("span",[a("countTo",{staticClass:"countNum",attrs:{separator:t.separator,decimals:t.decimals,startVal:t.startVal,endVal:t.countList.availableBalance,duration:2e3}})],1)])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",[t._v("今日收入 (元)")]),t._v(" "),a("span",[a("countTo",{staticClass:"countNum",attrs:{separator:t.separator,decimals:t.decimals,startVal:t.startVal,endVal:t.countList.todayRevenue,duration:2e3}})],1)])])],1)],1),t._v(" "),a("div",{staticClass:"tabels"},[a("el-tabs",{attrs:{type:"border-card"},model:{value:t.propData.card,callback:function(e){t.$set(t.propData,"card",e)},expression:"propData.card"}},[a("el-tab-pane",{attrs:{name:"1",label:"账户明细"}},[1==this.propData.card?a("accountTab",{ref:"accountTab",attrs:{propData:t.propData}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{name:"0",label:"结算记录"}},[0==this.propData.card?a("accountTab",{ref:"accountTab",attrs:{propData:t.propData}}):t._e()],1)],1)],1)])],1)},staticRenderFns:[]};var v=a("VU/8")(p,d,!1,function(t){a("3eUS")},"data-v-7d06a013",null);e.default=v.exports},"em7/":function(t,e){}});
//# sourceMappingURL=9.6120743fce389163f347.js.map